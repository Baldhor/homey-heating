{"version":3,"sources":["webpack:////home/travis/build/mskg/homey-heating/node_modules/@material-ui/core/Switch/index.js","webpack:////home/travis/build/mskg/homey-heating/node_modules/@material-ui/core/FormControlLabel/index.js","webpack:////home/travis/build/mskg/homey-heating/node_modules/@material-ui/core/DialogContentText/index.js","webpack:////home/travis/build/mskg/homey-heating/node_modules/@material-ui/core/DialogActions/index.js","webpack:///./api/callAPI.tsx","webpack:///./api/heating/index.tsx","webpack:///./components/AppHeader.tsx","webpack:///./components/InputContainer.tsx","webpack:///./components/ListItemLink.tsx","webpack:///./components/Menu.tsx","webpack:///./layouts/Page.tsx","webpack:///./components/BodyText.tsx","webpack:///./components/SubHeader.tsx","webpack:///./components/FormTextField.tsx","webpack:///./api/devices/index.tsx","webpack:///./api/zones/index.tsx","webpack:////home/travis/build/mskg/homey-heating/node_modules/@material-ui/core/Switch/Switch.js","webpack:///./components/Transition.tsx","webpack:///./state/planHooks.tsx","webpack:////home/travis/build/mskg/homey-heating/node_modules/@material-ui/core/FormControlLabel/FormControlLabel.js","webpack:////home/travis/build/mskg/homey-heating/node_modules/@material-ui/core/DialogContentText/DialogContentText.js","webpack:////home/travis/build/mskg/homey-heating/node_modules/@material-ui/core/DialogActions/DialogActions.js","webpack:///./components/ConfirmDialog.tsx","webpack:////home/travis/build/mskg/homey-heating/node_modules/@material-ui/icons/node_modules/@babel/runtime/helpers/esm/extends.js","webpack:////home/travis/build/mskg/homey-heating/node_modules/@material-ui/icons/esm/utils/createSvgIcon.js","webpack:////home/travis/build/mskg/homey-heating/node_modules/@material-ui/icons/esm/Home.js","webpack:////home/travis/build/mskg/homey-heating/node_modules/@material-ui/icons/esm/Hotel.js","webpack:////home/travis/build/mskg/homey-heating/node_modules/@material-ui/icons/esm/People.js","webpack:////home/travis/build/mskg/homey-heating/node_modules/@material-ui/icons/esm/HotTub.js","webpack:////home/travis/build/mskg/homey-heating/node_modules/@material-ui/icons/esm/BusinessCenter.js","webpack:////home/travis/build/mskg/homey-heating/node_modules/@material-ui/icons/esm/FreeBreakfast.js","webpack:////home/travis/build/mskg/homey-heating/node_modules/@material-ui/icons/esm/DirectionsWalk.js","webpack:///./components/Icons.tsx","webpack:///./state/deviceHooks.tsx","webpack:///./state/zoneHooks.tsx","webpack:///./pages/plan.tsx"],"names":["_interopRequireDefault","Object","defineProperty","exports","value","enumerable","get","_Switch","default","_FormControlLabel","_DialogContentText","_DialogActions","callAPI","method","path","body","Promise","resolve","reject","Homey","api","err","result","updatePlan","newPlan","planCopy","zones","length","undefined","devices","id","planAPI","fetchPlans","res","plan","p","name","fetchPlanById","Error","fetchSchedule","schedule","temperatures","s","device","removePlan","togglePlanState","enabled","modeAPI","fetchMode","mode","setMode","_theme","appBar","grow","flexGrow","buttons","display","toolbar","alignItems","justifyContent","props","classes","button","title","actions","subBar","children","position","color","className","variant","noWrap","theme","inputContainer","width","paddingLeft","spacing","unit","paddingRight","createLink","innerRef","to","toString","match","onClick","openURL","component","text","padding","paddingBottom","version","paddingTop","normal","selected","palette","primary","main","otherButton","firstButton","marginLeft","AppMenuButton","_props","openMenu","setOpenMenu","useState","Fragment","AppMenu","open","onClose","MenuButton","first","icon","elements","type","gutterBottom","map","e","key","disabled","url","otherProps","root","webkitOverflowScrolling","flexFlow","height","backgroundColor","flex","margin","maxWidth","overflowY","header","newPadding","style","headline","marginTop","fullWidth","deviceAPI","fetchHeatingDevices","reduce","obj","idx","zoneAPI","fetchHeatingZones","styles","_extends2","_objectWithoutProperties2","_react","_classnames","_withStyles","_helpers","_SwitchBase","flexShrink","zIndex","verticalAlign","boxShadow","shadows","borderRadius","iconChecked","switchBase","grey","transition","transitions","create","duration","shortest","checked","transform","opacity","colorPrimary","colorSecondary","secondary","common","black","white","bar","top","left","Switch","other","createElement","concat","capitalize","checkedIcon","defaultProps","_default","Transition","useHistory","dispatch","loaded","savePoint","undo","commit","useModifyPlan","setName","evt","target","setDescription","description","toggleState","toggleZone","zone","toggleDevice","useModifyExceptions","isDirty","setDirty","setOverride","temp","temperature","clearOverride","updateOverride","useModifySetPoints","selectDay","day","selectedDay","setPoint","copyDays","source","days","targets","removeSetPoint","index","loadSetPoint","point","newSetPoint","saveSetPoint","setStart","date","start","setTargetTemperature","parseFloat","cachedPlan","usePlan","keep","then","overrides","_defineProperty2","_withFormControlContext","_Typography","cursor","WebkitTapHighlightColor","marginRight","labelPlacementStart","flexDirection","labelPlacementTop","labelPlacementBottom","label","FormControlLabel","_classNames","classNameProp","control","disabledProp","inputRef","labelPlacement","muiFormControl","onChange","controlProps","forEach","cloneElement","lineHeight","internalDeprecatedVariant","_reactHelpers","action","DialogActions","disableActionSpacing","cloneChildrenWithClassName","ConfirmDialog","content","onOK","onCancel","TransitionComponent","others","_extends","assign","i","arguments","prototype","hasOwnProperty","call","apply","this","createSvgIcon","displayName","Component","memo","forwardRef","ref","muiName","d","cx","cy","r","fill","ZoneIcon","Home","Hotel","People","HotTub","BusinessCenter","FreeBreakfast","DirectionsWalk","loadingDevices","loadingZones","CloneDialog","lazy","Chart","TabContainer","activeTab","Suspense","fallback","divider","marginBottom","avatar","selectedTab","selectTab","params","location","state","z","useZones","useDevices","setIsCloneDialogOpen","isCloneDialogOpen","dialog","confirmRemoveDialog","openConfirmRemove","isOpen","isConfirmRemoveOpen","onConfirm","setIsOpen","useConfirmDialog","_p","history","push","pathname","enqueueSnackbar","catch","Page","AppHeader","Menu","_e","v","scrollButtons","tab","disableRipple","n","isolation","SubHeader","BodyText","FormTextField","placeholder","multiline","textDecoration","replace","find","c","src"],"mappings":"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","file":"8.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"default\", {\n  enumerable: true,\n  get: function get() {\n    return _Switch.default;\n  }\n});\n\nvar _Switch = _interopRequireDefault(require(\"./Switch\"));","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"default\", {\n  enumerable: true,\n  get: function get() {\n    return _FormControlLabel.default;\n  }\n});\n\nvar _FormControlLabel = _interopRequireDefault(require(\"./FormControlLabel\"));","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"default\", {\n  enumerable: true,\n  get: function get() {\n    return _DialogContentText.default;\n  }\n});\n\nvar _DialogContentText = _interopRequireDefault(require(\"./DialogContentText\"));","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"default\", {\n  enumerable: true,\n  get: function get() {\n    return _DialogActions.default;\n  }\n});\n\nvar _DialogActions = _interopRequireDefault(require(\"./DialogActions\"));","export default async function callAPI<T>(method: string, path: string, body: any = null): Promise<T> {\n    if (__PRODUCTION__) {\n        return await new Promise<T>((resolve, reject) => {\n            Homey.api(method, path, body, (err: any, result: any) =>  {\n                if (err) { reject(err); } else { resolve(result); }\n            });\n        });\n    }\n\n    const options: any = {\n        method,\n        headers: {\n            \"Content-Type\": \"application/json\",\n        },\n        cache: \"no-store\",\n    };\n\n    if (body != null) {\n        options.body = JSON.stringify(body);\n    }\n\n    // local development\n    const res = await fetch(`${__HOMEY_DEV_URL}/api/app/app.mskg.homey-heating${path}`, options);\n    return await res.json() as T;\n}\n","\nimport { map, sortBy } from \"lodash\";\nimport { IGroupedCalculatedTemperature, IHeatingPlan, IScheduleInformation, OperationMode } from \"../../../app/model\";\nimport callAPI from \"../callAPI\";\n\nconst fetchPlans = async (): Promise<IHeatingPlan[]> => {\n  const res = await callAPI<IHeatingPlan[]>(\"GET\", \"/plans\");\n\n  return sortBy(map(res, (plan: IHeatingPlan) => {\n    plan.zones = plan.zones || [];\n    plan.devices = plan.devices || [];\n\n    return plan;\n  }), (p) => p.name);\n};\n\nconst togglePlanState = async (plan: IHeatingPlan): Promise<boolean> => {\n  plan.enabled = !plan.enabled;\n  await updatePlan(plan);\n\n  return true;\n};\n\nconst updatePlan = async (newPlan: IHeatingPlan): Promise<IHeatingPlan> => {\n  const planCopy = {...newPlan};\n\n  if (!planCopy.zones || planCopy.zones.length === 0) { planCopy.zones = undefined; }\n  if (!planCopy.devices || planCopy.devices.length === 0) { planCopy.devices = undefined; }\n\n  return await callAPI<IHeatingPlan>(\"PUT\", `/plans/${newPlan.id}`, planCopy);\n};\n\nconst removePlan = async (id: string): Promise<IHeatingPlan> => {\n  return await callAPI<IHeatingPlan>(\"DELETE\", `/plans/${id}`);\n};\n\nconst fetchPlanById = async (id: string): Promise<IHeatingPlan> => {\n  const plan = await callAPI<IHeatingPlan>(\"GET\", `/plans/${id}`);\n  if (plan == null) { throw new Error(`Plan ${id} not found.`); }\n\n  plan.zones = plan.zones || [];\n  plan.devices = plan.devices || [];\n\n  return plan;\n};\n\nconst fetchSchedule = async (): Promise<IScheduleInformation> => {\n  const schedule = await callAPI<IScheduleInformation>(\"GET\", `/schedule`);\n  schedule.temperatures = sortBy(schedule.temperatures, [(s: IGroupedCalculatedTemperature) => s.device.name]);\n\n  return schedule;\n};\n\nconst fetchMode = async (): Promise<OperationMode> => {\n  const res = await callAPI<{mode: OperationMode}>(\"GET\", \"/mode\");\n  return res.mode;\n};\n\nconst setMode = async (mode: OperationMode): Promise<void> => {\n   return await callAPI<void>(\"PUT\", `/mode`, {mode});\n};\n\nexport const planAPI = {\n  fetchPlans,\n  fetchPlanById,\n  fetchSchedule,\n  updatePlan,\n  removePlan,\n  togglePlanState,\n};\n\nexport const modeAPI = {\n  fetchMode,\n  setMode,\n};\n","import AppBar from \"@material-ui/core/AppBar\";\nimport { StyleRulesCallback, withStyles, WithStyles } from \"@material-ui/core/styles\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport React, { Fragment, ReactChild } from \"react\";\n\nconst styles: StyleRulesCallback = (_theme) => ({\n    appBar: {\n    },\n\n    grow: {\n        flexGrow: 1,\n    },\n\n    buttons: {\n        display: \"flex\" as \"flex\",\n    },\n\n    toolbar: {\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n    },\n});\n\ntype NamedSlots = {\n    title?: string,\n    button?: ReactChild,\n    actions?: ReactChild,\n    subBar?: ReactChild,\n};\n\ntype Props = WithStyles<typeof styles> & {\n    title?: string,\n    button?: React.ReactElement<any>,\n    children?: NamedSlots,\n};\n\nconst AppHeaderComponent: React.FunctionComponent<Props> = (props) => {\n    const { classes } = props;\n    const { button, title, actions, subBar } = props.children || {\n        button: null,\n        title: null,\n        actions: null,\n        subBar: null,\n    };\n\n    return (\n        <Fragment>\n            <AppBar position=\"absolute\" color=\"primary\" className={classes.appBar}>\n                <Toolbar className={classes.toolbar}>\n                    {props.button || button}\n\n                    <Typography variant=\"h6\" color=\"inherit\" noWrap={true}>\n                        {props.title || title}\n                    </Typography>\n\n                     <div className={classes.grow} />\n                    {actions != null &&\n                        <div className={classes.buttons}>\n                            {actions}\n                        </div>\n                    }\n                </Toolbar>\n\n                {subBar != null && subBar}\n            </AppBar>\n        </Fragment>\n    );\n};\n\nexport default withStyles(styles)(AppHeaderComponent);\n","import { StyleRulesCallback, withStyles, WithStyles } from \"@material-ui/core/styles\";\nimport React from \"react\";\n\nconst styles: StyleRulesCallback = (theme) => ({\n    inputContainer: {\n        width: \"100%\",\n        paddingLeft: theme.spacing.unit * 2,\n        paddingRight: theme.spacing.unit * 3,\n    },\n});\n\ntype Props = {\n    children: React.ReactElement<any>,\n} & WithStyles<typeof styles>;\n\nconst InputContainer: React.FunctionComponent<Props> = (props) => {\n    return (<div className={props.classes.inputContainer}>{props.children}</div>);\n};\n\nexport default withStyles(styles)(InputContainer);\n","import { ListItem } from \"@material-ui/core\";\nimport { ListItemProps } from \"@material-ui/core/ListItem\";\nimport { LocationDescriptor } from \"history\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\n\ntype Props =  {\n    // ListItemProps and LinkProps both define an 'innerRef' property which are incompatible.\n\n    to: LocationDescriptor\n    replace?: boolean,\n} & ListItemProps;\n\nfunction createLink({innerRef, ...props}: Props) {\n    // Remove `innerRef` from properties as the interface is incompatible.\n\n    if (props.to.toString().match(/https/)) {\n        return <a onClick={() => Homey.openURL(props.to.toString())} {...props}>{props.children}</a>;\n    }\n\n    // @ts-ignore\n    return <Link {...props} />;\n}\n\nconst ListItemLink: React.FunctionComponent<Props> = (props) => {\n    return (\n        <ListItem {...props} component={createLink as unknown as \"a\"}>\n            {props.children}\n        </ListItem>\n    );\n};\n\nexport default ListItemLink;\n","import { Divider, IconButton, List, ListItemText, StyleRulesCallback, Typography, WithStyles, withStyles } from \"@material-ui/core\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport { IconButtonProps } from \"@material-ui/core/IconButton\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport React from \"react\";\nimport { RouteComponentProps, withRouter } from \"react-router-dom\";\nimport translate from \"../i18n/Translation\";\nimport ListItemLink from \"./ListItemLink\";\n\nconst styles: StyleRulesCallback = (theme) => ({\n    text: {\n        padding: theme.spacing.unit * 2,\n        paddingBottom: 0,\n    },\n\n    version: {\n        padding: theme.spacing.unit * 2,\n        paddingTop: 0,\n    },\n\n    normal: {\n    },\n\n    selected: {\n        color: theme.palette.primary.main,\n    },\n\n    otherButton: {\n\n    },\n\n    firstButton: {\n        marginLeft: -12,\n        // marginRight: 20,\n    },\n});\n\ntype Props = {\n    open: boolean;\n    onClose: () => void;\n} & WithStyles<typeof styles> & RouteComponentProps;\n\nconst AppMenuBase: React.FunctionComponent<Props> = (props) => {\n    const {classes} = props;\n\n    const elements = [\n        {\n            type: \"entry\",\n            to: \"/\",\n            text: translate(\"menu.plans\"),\n        },\n        {\n            to: \"/temperatures\",\n            text: translate(\"menu.temperatures\"),\n        },\n        {\n            to: \"/schedules\",\n            text: translate(\"menu.schedules\"),\n        },\n        {\n            to: \"/settings\",\n            text: translate(\"menu.settings\"),\n        },\n        // {\n        //     type: \"Divider\"\n        // },\n        {\n            to: \"https://homey-heating.mskg.app\",\n            text: translate(\"menu.help\"),\n        },\n    ];\n\n    return (\n        <Drawer open={props.open} onClose={props.onClose}>\n            <Typography className={classes.text} variant=\"h5\" gutterBottom={true}>\n                {translate(\"menu.title\")}\n            </Typography>\n            <Typography className={classes.version} variant=\"body2\" color=\"textSecondary\" gutterBottom={true}>\n                Version {__VERSION} ({__BUILD})\n            </Typography>\n\n            <Divider />\n            <List>\n            {\n                elements.map((e) => (e.type === \"Divider\"\n                    ? <Divider />\n                    : <ListItemLink key={e.to} to={e.to} disabled={props.match.url === e.to} button={true}>\n                        <ListItemText\n                            primary={e.text}\n                            classes={{primary: props.match.url !== e.to ? classes.normal : classes.selected}}\n                        />\n                    </ListItemLink>\n                ))\n            }\n            </List>\n        </Drawer>\n    );\n};\n\ntype MenuButtonProps = {\n    icon: React.ReactElement<any>,\n    first?: boolean,\n} & WithStyles<typeof styles> & IconButtonProps;\n\nconst MenuButtonBase: React.FunctionComponent<MenuButtonProps> = (props) => {\n    const { classes, first, icon, ...otherProps } = props;\n\n    return (\n        <IconButton className={first ? classes.firstButton : classes.otherButton} color=\"inherit\" {...otherProps}>\n            {icon}\n        </IconButton>\n    );\n};\n\nexport const AppMenuButton: React.FunctionComponent = (_props) => {\n    const [openMenu, setOpenMenu] = React.useState<boolean>(false);\n\n    return (\n        <React.Fragment>\n            <AppMenu open={openMenu} onClose={() => { setOpenMenu(false); }} />\n            <MenuButton first={true} onClick={() => { setOpenMenu(true); }} icon={<MenuIcon />} />\n        </React.Fragment>\n    );\n};\n\nconst AppMenu = withRouter(withStyles(styles)(AppMenuBase));\nexport const MenuButton = withStyles(styles)(MenuButtonBase);\n\nexport default AppMenu;\n","import { StyleRulesCallback, withStyles, WithStyles } from \"@material-ui/core/styles\";\nimport React, { ReactChild } from \"react\";\n\nconst styles: StyleRulesCallback = (_theme) => ({\n    root: {\n        webkitOverflowScrolling: \"touch\",\n        display: \"flex\",\n        flexFlow: \"column\",\n        height: \"100vh\",\n        width: \"100vw\",\n        backgroundColor: \"#fff\",\n    },\n\n    body: {\n        flex : \"1 0 100%\",\n        margin: 0,\n        maxWidth: \"100%\",\n        overflowY: \"scroll\",\n    },\n});\n\ntype NamedSlots = {\n    header: ReactChild,\n    body: ReactChild,\n    paddingTop: number | string,\n    paddingBottom?: number | string,\n};\n\ntype Props = WithStyles<typeof styles> & {\n    children: NamedSlots,\n};\n\nconst PageComponent: React.FunctionComponent<Props> = (props) => {\n    const { classes } = props;\n    const { header, body, paddingTop, paddingBottom } = props.children;\n\n    const newPadding = paddingBottom || \"auto\";\n\n    return (\n        <React.Fragment>\n            <div className={classes.root}>\n                {header}\n                <div className={classes.body} style={{paddingTop, paddingBottom: newPadding}}>\n                    {body}\n                </div>\n            </div>\n        </React.Fragment>\n    );\n};\n\nexport default withStyles(styles)(PageComponent);\n","import { StyleRulesCallback, withStyles, WithStyles } from \"@material-ui/core/styles\";\nimport Typography, { TypographyProps } from \"@material-ui/core/Typography\";\nimport React from \"react\";\n\nconst styles: StyleRulesCallback = (theme) => ({\n    text: {\n        // marginTop: theme.spacing.unit * 4,\n        paddingLeft: theme.spacing.unit * 2,\n        paddingRight: theme.spacing.unit * 2,\n    },\n});\n\ntype Props = {\n    text: string,\n} & WithStyles<typeof styles> & TypographyProps;\n\nconst BodyText: React.FunctionComponent<Props> = (props) => {\n    const {classes, text, ...otherProps} = props;\n\n    return (\n        <Typography className={classes.text} color=\"textSecondary\"  {...otherProps}>\n            {text}\n        </Typography>\n    );\n};\n\nexport default withStyles(styles)(BodyText);\n","import { StyleRulesCallback, withStyles, WithStyles } from \"@material-ui/core/styles\";\nimport Typography, { TypographyProps } from \"@material-ui/core/Typography\";\nimport React from \"react\";\n\nconst styles: StyleRulesCallback = (theme) => ({\n    headline: {\n        marginTop: theme.spacing.unit * 4,\n        paddingLeft: theme.spacing.unit * 2,\n        paddingRight: theme.spacing.unit * 2,\n    },\n});\n\ntype SubHeaderProps = {\n    text: string | undefined,\n} & WithStyles<typeof styles> & TypographyProps;\n\nconst SubHeader: React.FunctionComponent<SubHeaderProps> = (props) => {\n    const { classes, text, ...otherProps } = props;\n\n    return (\n        <Typography className={classes.headline} variant=\"h5\" color=\"textSecondary\" gutterBottom={true} {...otherProps}>\n            {text}\n        </Typography>\n    );\n};\n\nexport default withStyles(styles)(SubHeader);\n","import TextField, { TextFieldProps } from \"@material-ui/core/TextField\";\nimport React from \"react\";\nimport InputContainer from \"./InputContainer\";\n\nconst FormTextField = ({ classes, ...otherProps }: TextFieldProps) => {\n    return (\n        <InputContainer>\n            <TextField\n                fullWidth={true}\n                margin=\"normal\"\n                {...otherProps}\n            />\n        </InputContainer>\n    );\n};\n\nexport default FormTextField;\n","\nimport { sortBy } from \"lodash\";\nimport { IHeatingDevice } from \"../../../app/model\";\nimport callAPI from \"../callAPI\";\n\nexport type HashType = {\n  [key: string]: IHeatingDevice;\n} & ArrayLike<IHeatingDevice>;\n\n// Homey.api( String method, String path, Mixed body, Function callback )\nconst fetchHeatingDevices = async (): Promise<HashType> => {\n  const devices = await callAPI<any[]>(\"GET\", \"/devices\");\n\n  const result = sortBy(devices, \"name\").reduce((map, obj, idx) => {\n    map[idx] = obj;\n    map[obj.id] = obj;\n    return map;\n  }, {});\n  result.length = devices.length;\n\n  return result;\n};\n\nexport const deviceAPI = {\n  fetchHeatingDevices,\n};\n","import { sortBy } from \"lodash\";\nimport { IHeatingZone } from \"../../../app/model\";\nimport callAPI from \"../callAPI\";\n\nexport type HashType = {\n  [key: string]: IHeatingZone;\n} & ArrayLike<IHeatingZone>;\n\nconst fetchHeatingZones = async (): Promise<HashType> => {\n  const zones = await callAPI<any[]>(\"GET\", \"/zones\");\n\n  const result = sortBy(zones, \"name\").reduce((map, obj, idx) => {\n    map[idx] = obj;\n    map[obj.id] = obj;\n    return map;\n  }, {});\n\n  result.length = zones.length;\n  return result;\n};\n\nexport const zoneAPI = {\n  fetchHeatingZones,\n};\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.styles = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _withStyles = _interopRequireDefault(require(\"../styles/withStyles\"));\n\nvar _helpers = require(\"../utils/helpers\");\n\nvar _SwitchBase = _interopRequireDefault(require(\"../internal/SwitchBase\"));\n\nvar styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      display: 'inline-flex',\n      width: 62,\n      position: 'relative',\n      flexShrink: 0,\n      zIndex: 0,\n      // Reset the stacking context.\n      // For correct alignment with the text.\n      verticalAlign: 'middle'\n    },\n\n    /* Styles used to create the `icon` passed to the internal `SwitchBase` component `icon` prop. */\n    icon: {\n      boxShadow: theme.shadows[1],\n      backgroundColor: 'currentColor',\n      width: 20,\n      height: 20,\n      borderRadius: '50%'\n    },\n\n    /* Styles applied the icon element component if `checked={true}`. */\n    iconChecked: {\n      boxShadow: theme.shadows[2]\n    },\n\n    /* Styles applied to the internal `SwitchBase` component's `root` class. */\n    switchBase: {\n      padding: 0,\n      height: 48,\n      width: 48,\n      color: theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[400],\n      transition: theme.transitions.create('transform', {\n        duration: theme.transitions.duration.shortest\n      })\n    },\n\n    /* Styles applied to the internal `SwitchBase` component's `checked` class. */\n    checked: {\n      transform: 'translateX(14px)',\n      '& + $bar': {\n        opacity: 0.5\n      }\n    },\n\n    /* Styles applied to the internal SwitchBase component's root element if `color=\"primary\"`. */\n    colorPrimary: {\n      '&$checked': {\n        color: theme.palette.primary.main,\n        '& + $bar': {\n          backgroundColor: theme.palette.primary.main\n        }\n      }\n    },\n\n    /* Styles applied to the internal SwitchBase component's root element if `color=\"secondary\"`. */\n    colorSecondary: {\n      '&$checked': {\n        color: theme.palette.secondary.main,\n        '& + $bar': {\n          backgroundColor: theme.palette.secondary.main\n        }\n      }\n    },\n\n    /* Styles applied to the internal SwitchBase component's disabled class. */\n    disabled: {\n      '& + $bar': {\n        opacity: theme.palette.type === 'light' ? 0.12 : 0.1\n      },\n      '& $icon': {\n        boxShadow: theme.shadows[1]\n      },\n      '&$switchBase': {\n        color: theme.palette.type === 'light' ? theme.palette.grey[400] : theme.palette.grey[800],\n        '& + $bar': {\n          backgroundColor: theme.palette.type === 'light' ? theme.palette.common.black : theme.palette.common.white\n        }\n      }\n    },\n\n    /* Styles applied to the bar element. */\n    bar: {\n      borderRadius: 14 / 2,\n      display: 'block',\n      position: 'absolute',\n      zIndex: -1,\n      width: 34,\n      height: 14,\n      top: '50%',\n      left: '50%',\n      marginTop: -7,\n      marginLeft: -17,\n      transition: theme.transitions.create(['opacity', 'background-color'], {\n        duration: theme.transitions.duration.shortest\n      }),\n      backgroundColor: theme.palette.type === 'light' ? theme.palette.common.black : theme.palette.common.white,\n      opacity: theme.palette.type === 'light' ? 0.38 : 0.3\n    }\n  };\n};\n\nexports.styles = styles;\n\nfunction Switch(props) {\n  var classes = props.classes,\n      className = props.className,\n      color = props.color,\n      other = (0, _objectWithoutProperties2.default)(props, [\"classes\", \"className\", \"color\"]);\n  return _react.default.createElement(\"span\", {\n    className: (0, _classnames.default)(classes.root, className)\n  }, _react.default.createElement(_SwitchBase.default, (0, _extends2.default)({\n    type: \"checkbox\",\n    icon: _react.default.createElement(\"span\", {\n      className: classes.icon\n    }),\n    classes: {\n      root: (0, _classnames.default)(classes.switchBase, classes[\"color\".concat((0, _helpers.capitalize)(color))]),\n      checked: classes.checked,\n      disabled: classes.disabled\n    },\n    checkedIcon: _react.default.createElement(\"span\", {\n      className: (0, _classnames.default)(classes.icon, classes.iconChecked)\n    })\n  }, other)), _react.default.createElement(\"span\", {\n    className: classes.bar\n  }));\n}\n\nprocess.env.NODE_ENV !== \"production\" ? Switch.propTypes = {\n  /**\n   * If `true`, the component is checked.\n   */\n  checked: _propTypes.default.oneOfType([_propTypes.default.bool, _propTypes.default.string]),\n\n  /**\n   * The icon to display when the component is checked.\n   */\n  checkedIcon: _propTypes.default.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css-api) below for more details.\n   */\n  classes: _propTypes.default.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: _propTypes.default.string,\n\n  /**\n   * The color of the component. It supports those theme colors that make sense for this component.\n   */\n  color: _propTypes.default.oneOf(['primary', 'secondary', 'default']),\n\n  /**\n   * @ignore\n   */\n  defaultChecked: _propTypes.default.bool,\n\n  /**\n   * If `true`, the switch will be disabled.\n   */\n  disabled: _propTypes.default.bool,\n\n  /**\n   * If `true`, the ripple effect will be disabled.\n   */\n  disableRipple: _propTypes.default.bool,\n\n  /**\n   * The icon to display when the component is unchecked.\n   */\n  icon: _propTypes.default.node,\n\n  /**\n   * The id of the `input` element.\n   */\n  id: _propTypes.default.string,\n\n  /**\n   * Attributes applied to the `input` element.\n   */\n  inputProps: _propTypes.default.object,\n\n  /**\n   * Use that property to pass a ref callback to the native input component.\n   */\n  inputRef: _propTypes.default.oneOfType([_propTypes.default.func, _propTypes.default.object]),\n\n  /**\n   * Callback fired when the state is changed.\n   *\n   * @param {object} event The event source of the callback.\n   * You can pull out the new value by accessing `event.target.checked`.\n   * @param {boolean} checked The `checked` value of the switch\n   */\n  onChange: _propTypes.default.func,\n\n  /**\n   * The input component property `type`.\n   */\n  type: _propTypes.default.string,\n\n  /**\n   * The value of the component.\n   */\n  value: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number, _propTypes.default.bool])\n} : void 0;\nSwitch.defaultProps = {\n  color: 'secondary'\n};\n\nvar _default = (0, _withStyles.default)(styles, {\n  name: 'MuiSwitch'\n})(Switch);\n\nexports.default = _default;","import { Zoom } from \"@material-ui/core\";\nimport React from \"react\";\n\nexport default function Transition(props: any) {\n    return <Zoom {...props} />;\n}\n","import { useCallback, useEffect, useState } from \"react\";\nimport * as uuidv1 from \"uuid/v1\";\nimport { OverrideMode } from \"../../app/model\";\nimport { planAPI } from \"../api/heating\";\nimport { usePlanDispatch, usePlanGlobalState } from \"./PlanProvider\";\n\nexport const useHistory = () => {\n    const dispatch = usePlanDispatch();\n    const loaded = usePlanGlobalState(\"loaded\");\n\n    const savePoint = useCallback(() => dispatch({ type: \"savePoint\" }), [dispatch]);\n    const undo = useCallback(() => dispatch({ type: \"undo\" }), [dispatch]);\n    const commit = useCallback(() => dispatch({ type: \"commit\" }), [dispatch]);\n\n    useEffect(() => {\n        savePoint();\n    }, [loaded]);\n\n    return {\n        savePoint, undo, commit,\n    };\n};\n\nexport const useModifyPlan = () => {\n    const dispatch = usePlanDispatch();\n\n    const setName = useCallback((evt) => dispatch({ type: \"setName\", name: evt.target.value }), [dispatch]);\n    const setDescription = useCallback((evt) => dispatch({ type: \"setDescription\", description: evt.target.value }), [dispatch]);\n\n    const toggleState = useCallback(() => dispatch({ type: \"toggleEnabled\" }), [dispatch]);\n    const toggleZone = useCallback((id) => dispatch({ type: \"toggleZone\", zone: id }), [dispatch]);\n    const toggleDevice = useCallback((id) => dispatch({ type: \"toggleDevice\", device: id }), [dispatch]);\n\n    return { setName, setDescription, toggleState, toggleZone, toggleDevice };\n};\n\nexport const useModifyExceptions = () => {\n    const dispatch = usePlanDispatch();\n    const [isDirty, setDirty] = useState<boolean>(false);\n\n    const setOverride = useCallback((mode, temp) => {\n        dispatch({ type: \"setOverride\", mode, temperature: temp });\n        setDirty(true);\n    }, [dispatch]);\n\n    const clearOverride = useCallback((mode) => {\n        dispatch({ type: \"clearOverride\", mode });\n        setDirty(true);\n    }, [dispatch]);\n\n    const updateOverride = useCallback((mode: OverrideMode, target: number) => {\n        if (target === 0) { clearOverride(mode); } else { setOverride(mode, target); }\n    }, [dispatch]);\n\n    useEffect(() => {\n        setDirty(false);\n    }, []);\n\n    return { isDirty, setOverride, clearOverride, updateOverride };\n};\n\nexport const useModifySetPoints = () => {\n    const [isDirty, setDirty] = useState<boolean>(false);\n\n    const dispatch = usePlanDispatch();\n\n    const selectDay = useCallback((day) => { dispatch({ type: \"selectDay\", day }); }, [dispatch]);\n    const selectedDay = usePlanGlobalState(\"selectedDay\");\n    const setPoint = usePlanGlobalState(\"setPoint\");\n\n    const copyDays = useCallback((source, days) => {\n        if (days != null && days.length > 0) {\n            setDirty(true);\n            dispatch({ type: \"copyDays\", source, targets: days });\n        }\n    }, [dispatch]);\n\n    const removeSetPoint = useCallback((idx) => { setDirty(true); dispatch({ type: \"removeSetPoint\", index: idx }); }, [dispatch]);\n\n    const loadSetPoint = useCallback((point) => { dispatch({ type: \"loadSetPoint\", setPoint: point }); }, [dispatch]);\n    const newSetPoint = useCallback((day) => { dispatch({ type: \"newSetPoint\", day }); }, [dispatch]);\n\n    const saveSetPoint = useCallback((s) => {\n        if (s.index === -1) {\n            dispatch({ type: \"addSetPoint\", setPoint: s });\n        } else {\n            dispatch({ type: \"updateSetPoint\", setPoint: s });\n        }\n    }, [dispatch]);\n\n    const setStart = useCallback((date: Date | string) => dispatch({ type: \"setStart\", start: date }), [dispatch]);\n    const setTargetTemperature = useCallback((evt) => dispatch({ type: \"setTargetTemperature\", temperature: parseFloat(evt.target.value) }), [dispatch]);\n\n    useEffect(() => {\n        setDirty(false);\n    }, []);\n\n    return { setDirty, isDirty, selectedDay, setPoint, copyDays, removeSetPoint, loadSetPoint, newSetPoint, selectDay, saveSetPoint, setStart, setTargetTemperature };\n};\n\nlet cachedPlan = false;\nexport const usePlan = (id: string, keep: boolean = true) => {\n    const dispatch = usePlanDispatch();\n\n    const plan = usePlanGlobalState(\"plan\");\n    const loaded = usePlanGlobalState(\"loaded\");\n    const isDirty = usePlanGlobalState(\"dirty\");\n\n    if (!loaded || !keep) {\n        if ((id == null || id === \"new\") && !cachedPlan) {\n            cachedPlan = true;\n            dispatch({\n                type: \"loadPlan\", plan: {\n                    id: uuidv1(),\n                    enabled: false,\n                    name: \"\",\n                    zones: [],\n                    devices: [],\n                    schedule: [],\n                    overrides: undefined,\n                },\n            });\n        } else {\n            if (!cachedPlan) {\n                throw planAPI.fetchPlanById(id).then((p) => {\n                    cachedPlan = true;\n                    dispatch({ type: \"loadPlan\", plan: p });\n                });\n            }\n        }\n    }\n\n    useEffect(() => {\n        return () => {\n            cachedPlan = false;\n        };\n    }, [id, keep]);\n\n    return { plan, isDirty, loaded };\n};\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.styles = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _withFormControlContext = _interopRequireDefault(require(\"../FormControl/withFormControlContext\"));\n\nvar _withStyles = _interopRequireDefault(require(\"../styles/withStyles\"));\n\nvar _Typography = _interopRequireDefault(require(\"../Typography\"));\n\nvar _helpers = require(\"../utils/helpers\");\n\nvar styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      display: 'inline-flex',\n      alignItems: 'center',\n      cursor: 'pointer',\n      // For correct alignment with the text.\n      verticalAlign: 'middle',\n      // Remove grey highlight\n      WebkitTapHighlightColor: 'transparent',\n      marginLeft: -14,\n      marginRight: 16,\n      // used for row presentation of radio/checkbox\n      '&$disabled': {\n        cursor: 'default'\n      }\n    },\n\n    /* Styles applied to the root element if `labelPlacement=\"start\"`. */\n    labelPlacementStart: {\n      flexDirection: 'row-reverse',\n      marginLeft: 16,\n      // used for row presentation of radio/checkbox\n      marginRight: -14\n    },\n\n    /* Styles applied to the root element if `labelPlacement=\"top\"`. */\n    labelPlacementTop: {\n      flexDirection: 'column-reverse',\n      marginLeft: 16\n    },\n\n    /* Styles applied to the root element if `labelPlacement=\"bottom\"`. */\n    labelPlacementBottom: {\n      flexDirection: 'column',\n      marginLeft: 16\n    },\n\n    /* Styles applied to the root element if `disabled={true}`. */\n    disabled: {},\n\n    /* Styles applied to the label's Typography component. */\n    label: {\n      '&$disabled': {\n        color: theme.palette.text.disabled\n      }\n    }\n  };\n};\n/**\n * Drop in replacement of the `Radio`, `Switch` and `Checkbox` component.\n * Use this component if you want to display an extra label.\n */\n\n\nexports.styles = styles;\n\nfunction FormControlLabel(props) {\n  var _classNames;\n\n  var checked = props.checked,\n      classes = props.classes,\n      classNameProp = props.className,\n      control = props.control,\n      disabledProp = props.disabled,\n      inputRef = props.inputRef,\n      label = props.label,\n      labelPlacement = props.labelPlacement,\n      muiFormControl = props.muiFormControl,\n      name = props.name,\n      onChange = props.onChange,\n      value = props.value,\n      other = (0, _objectWithoutProperties2.default)(props, [\"checked\", \"classes\", \"className\", \"control\", \"disabled\", \"inputRef\", \"label\", \"labelPlacement\", \"muiFormControl\", \"name\", \"onChange\", \"value\"]);\n  var disabled = disabledProp;\n\n  if (typeof disabled === 'undefined' && typeof control.props.disabled !== 'undefined') {\n    disabled = control.props.disabled;\n  }\n\n  if (typeof disabled === 'undefined' && muiFormControl) {\n    disabled = muiFormControl.disabled;\n  }\n\n  var controlProps = {\n    disabled: disabled\n  };\n  ['checked', 'name', 'onChange', 'value', 'inputRef'].forEach(function (key) {\n    if (typeof control.props[key] === 'undefined' && typeof props[key] !== 'undefined') {\n      controlProps[key] = props[key];\n    }\n  });\n  return _react.default.createElement(\"label\", (0, _extends2.default)({\n    className: (0, _classnames.default)(classes.root, (_classNames = {}, (0, _defineProperty2.default)(_classNames, classes[\"labelPlacement\".concat((0, _helpers.capitalize)(labelPlacement))], labelPlacement !== 'end'), (0, _defineProperty2.default)(_classNames, classes.disabled, disabled), _classNames), classNameProp)\n  }, other), _react.default.cloneElement(control, controlProps), _react.default.createElement(_Typography.default, {\n    component: \"span\",\n    className: (0, _classnames.default)(classes.label, (0, _defineProperty2.default)({}, classes.disabled, disabled))\n  }, label));\n}\n\nprocess.env.NODE_ENV !== \"production\" ? FormControlLabel.propTypes = {\n  /**\n   * If `true`, the component appears selected.\n   */\n  checked: _propTypes.default.oneOfType([_propTypes.default.bool, _propTypes.default.string]),\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css-api) below for more details.\n   */\n  classes: _propTypes.default.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: _propTypes.default.string,\n\n  /**\n   * A control element. For instance, it can be be a `Radio`, a `Switch` or a `Checkbox`.\n   */\n  control: _propTypes.default.element,\n\n  /**\n   * If `true`, the control will be disabled.\n   */\n  disabled: _propTypes.default.bool,\n\n  /**\n   * Use that property to pass a ref callback to the native input component.\n   */\n  inputRef: _propTypes.default.oneOfType([_propTypes.default.func, _propTypes.default.object]),\n\n  /**\n   * The text to be used in an enclosing label element.\n   */\n  label: _propTypes.default.node,\n\n  /**\n   * The position of the label.\n   */\n  labelPlacement: _propTypes.default.oneOf(['end', 'start', 'top', 'bottom']),\n\n  /**\n   * @ignore\n   */\n  muiFormControl: _propTypes.default.object,\n\n  /*\n   * @ignore\n   */\n  name: _propTypes.default.string,\n\n  /**\n   * Callback fired when the state is changed.\n   *\n   * @param {object} event The event source of the callback.\n   * You can pull out the new value by accessing `event.target.checked`.\n   * @param {boolean} checked The `checked` value of the switch\n   */\n  onChange: _propTypes.default.func,\n\n  /**\n   * The value of the component.\n   */\n  value: _propTypes.default.string\n} : void 0;\nFormControlLabel.defaultProps = {\n  labelPlacement: 'end'\n};\n\nvar _default = (0, _withStyles.default)(styles, {\n  name: 'MuiFormControlLabel'\n})((0, _withFormControlContext.default)(FormControlLabel));\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.styles = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _withStyles = _interopRequireDefault(require(\"../styles/withStyles\"));\n\nvar _Typography = _interopRequireDefault(require(\"../Typography\"));\n\n// @inheritedComponent Typography\nvar styles = {\n  /* Styles applied to the root element. */\n  root: {\n    // Should use variant=\"body1\" in v4\n    lineHeight: 1.5\n  }\n};\nexports.styles = styles;\n\nfunction DialogContentText(props) {\n  return _react.default.createElement(_Typography.default, (0, _extends2.default)({\n    component: \"p\",\n    internalDeprecatedVariant: true,\n    variant: \"subheading\",\n    color: \"textSecondary\"\n  }, props));\n}\n\nprocess.env.NODE_ENV !== \"production\" ? DialogContentText.propTypes = {\n  /**\n   * The content of the component.\n   */\n  children: _propTypes.default.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css-api) below for more details.\n   */\n  classes: _propTypes.default.object.isRequired\n} : void 0;\n\nvar _default = (0, _withStyles.default)(styles, {\n  name: 'MuiDialogContentText'\n})(DialogContentText);\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.styles = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _withStyles = _interopRequireDefault(require(\"../styles/withStyles\"));\n\nvar _reactHelpers = require(\"../utils/reactHelpers\");\n\nrequire(\"../Button\");\n\n// So we don't have any override priority issue.\nvar styles = {\n  /* Styles applied to the root element. */\n  root: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n    flex: '0 0 auto',\n    margin: '8px 4px'\n  },\n\n  /* Styles applied to the children. */\n  action: {\n    margin: '0 4px'\n  }\n};\nexports.styles = styles;\n\nfunction DialogActions(props) {\n  var disableActionSpacing = props.disableActionSpacing,\n      children = props.children,\n      classes = props.classes,\n      className = props.className,\n      other = (0, _objectWithoutProperties2.default)(props, [\"disableActionSpacing\", \"children\", \"classes\", \"className\"]);\n  return _react.default.createElement(\"div\", (0, _extends2.default)({\n    className: (0, _classnames.default)(classes.root, className)\n  }, other), disableActionSpacing ? children : (0, _reactHelpers.cloneChildrenWithClassName)(children, classes.action));\n}\n\nprocess.env.NODE_ENV !== \"production\" ? DialogActions.propTypes = {\n  /**\n   * The content of the component.\n   */\n  children: _propTypes.default.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css-api) below for more details.\n   */\n  classes: _propTypes.default.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: _propTypes.default.string,\n\n  /**\n   * If `true`, the dialog actions do not have additional margin.\n   */\n  disableActionSpacing: _propTypes.default.bool\n} : void 0;\nDialogActions.defaultProps = {\n  disableActionSpacing: false\n};\n\nvar _default = (0, _withStyles.default)(styles, {\n  name: 'MuiDialogActions'\n})(DialogActions);\n\nexports.default = _default;","import Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport React, { useState } from \"react\";\nimport translate from \"../i18n/Translation\";\nimport Transition from \"./Transition\";\n\ntype ExternalProps = {\n  title?: string;\n  content: string;\n};\n\ntype Props = {\n  open: boolean;\n\n  onOK: () => void;\n  onCancel: () => void;\n} & ExternalProps;\n\nconst ConfirmDialog: React.FunctionComponent<Props> = (props: Props) => {\n  const { open, title, content, onOK, onCancel, ...others } = props;\n\n  return (\n    <Dialog open={open} onClose={() => { onCancel(); }} TransitionComponent={Transition}  {...others}>\n      <DialogTitle>{title || translate(\"confirm.title\")}</DialogTitle>\n      <DialogContent>\n        <DialogContentText>\n          {content}\n        </DialogContentText>\n\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={() => { onCancel(); }} color=\"primary\">\n          {translate(\"confirm.cancel\")}\n        </Button>\n\n        <Button onClick={() => { onOK(); }} color=\"primary\">\n          {translate(\"confirm.ok\")}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport const useConfirmDialog = (props: { onConfirm: () => void } & ExternalProps) => {\n  const { onConfirm, ...others } = props;\n  const [open, setIsOpen] = useState(false);\n\n  const dialog = (\n    <ConfirmDialog open={open} onCancel={() => { setIsOpen(false); }} onOK={onConfirm} {...others} />\n  );\n\n  return {\n    dialog, isOpen: open, open: () => {\n      setIsOpen(true);\n    },\n  };\n};\n","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\nexport default function createSvgIcon(path, displayName) {\n  var Component = React.memo(React.forwardRef(function (props, ref) {\n    return React.createElement(SvgIcon, _extends({\n      ref: ref\n    }, props), path);\n  }));\n\n  if (process.env.NODE_ENV !== 'production') {\n    Component.displayName = \"\".concat(displayName, \"Icon\");\n  }\n\n  Component.muiName = SvgIcon.muiName;\n  return Component;\n}","import React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon(React.createElement(\"path\", {\n  d: \"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z\"\n}), 'Home');","import React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon(React.createElement(\"path\", {\n  d: \"M7 13c1.66 0 3-1.34 3-3S8.66 7 7 7s-3 1.34-3 3 1.34 3 3 3zm12-6h-8v7H3V5H1v15h2v-3h18v3h2v-9c0-2.21-1.79-4-4-4z\"\n}), 'Hotel');","import React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon(React.createElement(\"path\", {\n  d: \"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z\"\n}), 'People');","import React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon(React.createElement(React.Fragment, null, React.createElement(\"circle\", {\n  cx: \"7\",\n  cy: \"6\",\n  r: \"2\"\n}), React.createElement(\"path\", {\n  d: \"M11.15 12c-.31-.22-.59-.46-.82-.72l-1.4-1.55c-.19-.21-.43-.38-.69-.5-.29-.14-.62-.23-.96-.23h-.03C6.01 9 5 10.01 5 11.25V12H2v8c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2v-8H11.15zM7 20H5v-6h2v6zm4 0H9v-6h2v6zm4 0h-2v-6h2v6zm4 0h-2v-6h2v6zm-.35-14.14l-.07-.07c-.57-.62-.82-1.41-.67-2.2L18 3h-1.89l-.06.43c-.2 1.36.27 2.71 1.3 3.72l.07.06c.57.62.82 1.41.67 2.2l-.11.59h1.91l.06-.43c.21-1.36-.27-2.71-1.3-3.71zm-4 0l-.07-.07c-.57-.62-.82-1.41-.67-2.2L14 3h-1.89l-.06.43c-.2 1.36.27 2.71 1.3 3.72l.07.06c.57.62.82 1.41.67 2.2l-.11.59h1.91l.06-.43c.21-1.36-.27-2.71-1.3-3.71z\"\n})), 'HotTub');","import React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon(React.createElement(React.Fragment, null, React.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M0 0h24v24H0zm10 5h4v2h-4zm0 0h4v2h-4z\"\n}), React.createElement(\"path\", {\n  d: \"M10 16v-1H3.01L3 19c0 1.11.89 2 2 2h14c1.11 0 2-.89 2-2v-4h-7v1h-4zm10-9h-4.01V5l-2-2h-4l-2 2v2H4c-1.1 0-2 .9-2 2v3c0 1.11.89 2 2 2h6v-2h4v2h6c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zm-6 0h-4V5h4v2z\"\n})), 'BusinessCenter');","import React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon(React.createElement(\"path\", {\n  d: \"M20 3H4v10c0 2.21 1.79 4 4 4h6c2.21 0 4-1.79 4-4v-3h2c1.11 0 2-.9 2-2V5c0-1.11-.89-2-2-2zm0 5h-2V5h2v3zM4 19h16v2H4z\"\n}), 'FreeBreakfast');","import React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon(React.createElement(\"path\", {\n  d: \"M13.5 5.5c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zM9.8 8.9L7 23h2.1l1.8-8 2.1 2v6h2v-7.5l-2.1-2 .6-3C14.8 12 16.8 13 19 13v-2c-1.9 0-3.5-1-4.3-2.4l-1-1.6c-.4-.6-1-1-1.7-1-.3 0-.5.1-.8.1L6 8.3V13h2V9.6l1.8-.7\"\n}), 'DirectionsWalk');","import { BusinessCenter, DirectionsWalk, FreeBreakfast, Home, Hotel, HotTub, People } from \"@material-ui/icons\";\nimport React from \"react\";\n\ntype Props = {\n    name: string,\n};\n\nexport default function ZoneIcon(props: Props) {\n    switch (props.name) {\n        case \"home\":\n            return (<Home />);\n\n        case \"bed\":\n            return (<Hotel />);\n\n        case \"living\":\n            return (<People />);\n\n        case \"toilet\":\n        case \"shower\":\n            return (<HotTub />);\n\n        case \"books\":\n        case \"study\":\n            return (<BusinessCenter />);\n\n        case \"kitchen\":\n            return (<FreeBreakfast />);\n\n        default:\n            return (<DirectionsWalk />);\n    }\n}\n","import { useEffect } from \"react\";\nimport { deviceAPI } from \"../api/devices\";\nimport { usePlanDispatch, usePlanGlobalState } from \"./PlanProvider\";\n\nlet loadingDevices = false;\nexport const useDevices = (keep?: boolean) => {\n    const dispatch = usePlanDispatch();\n    const devices = usePlanGlobalState(\"devices\");\n\n    if (!keep && !loadingDevices) {\n        loadingDevices = true;\n        throw deviceAPI.fetchHeatingDevices().then((d) => {\n            dispatch({ type: \"loadDevices\", devices: d });\n        });\n    }\n\n    useEffect(() => {\n        return () => {\n            loadingDevices = false;\n        };\n    }, [keep]);\n\n    return devices;\n};\n","import { useEffect } from \"react\";\nimport { zoneAPI } from \"../api/zones\";\nimport { usePlanDispatch, usePlanGlobalState } from \"./PlanProvider\";\n\nlet loadingZones = false;\nexport const useZones = (keep?: boolean) => {\n    const dispatch = usePlanDispatch();\n    const zones = usePlanGlobalState(\"zones\");\n\n    if (!keep && !loadingZones) {\n        loadingZones = true;\n        throw zoneAPI.fetchHeatingZones().then((z) => {\n            dispatch({ type: \"loadZones\", zones: z });\n        });\n    }\n\n    useEffect(() => {\n        return () => {\n            loadingZones = false;\n        };\n    }, [keep]);\n\n    return zones;\n};\n","import { IHeatingPlan } from \"@app/model\";\nimport { Button, LinearProgress, Tab, Tabs } from \"@material-ui/core\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport { StyleRulesCallback, withStyles, WithStyles } from \"@material-ui/core/styles\";\nimport Switch from \"@material-ui/core/Switch\";\nimport BackIcon from \"@material-ui/icons/ArrowBackIos\";\nimport CancelIcon from \"@material-ui/icons/Cancel\";\nimport RemoveIcon from \"@material-ui/icons/Delete\";\nimport CopyIcon from \"@material-ui/icons/FileCopy\";\nimport { map } from \"lodash\";\nimport { withSnackbar, WithSnackbarProps } from \"notistack\";\nimport React, { Fragment, ReactNode, useEffect, useState } from \"react\";\nimport { Link, RouteComponentProps, withRouter } from \"react-router-dom\";\nimport { ScrollLocky } from \"react-scroll-locky\";\nimport * as uuidv1 from \"uuid/v1\";\nimport { planAPI } from \"../api/heating\";\nimport AppHeader from \"../components/AppHeader\";\nimport BodyText from \"../components/BodyText\";\nimport { useConfirmDialog } from \"../components/ConfirmDialog\";\nimport FormTextField from \"../components/FormTextField\";\nimport ZoneIcon from \"../components/Icons\";\nimport { MenuButton } from \"../components/Menu\";\nimport SubHeader from \"../components/SubHeader\";\nimport translate from \"../i18n/Translation\";\nimport Page from \"../layouts/Page\";\nimport { useDevices } from \"../state/deviceHooks\";\nimport { useModifyPlan, usePlan } from \"../state/planHooks\";\nimport { useZones } from \"../state/zoneHooks\";\n\nconst CloneDialog = React.lazy(() => import(\"../dialogs/CloneDialog\"));\nconst Chart = React.lazy(() => import(\"../components/TemperatureChart\"));\n\nconst styles: StyleRulesCallback = (theme) => ({\n    button: {\n        margin: theme.spacing.unit * 2,\n    },\n\n    divider: {\n        marginTop: theme.spacing.unit * 3,\n        marginBottom: theme.spacing.unit * 1,\n    },\n\n    avatar: {\n        // padding: \"3px\",\n        width: \"24px\",\n        height: \"24px\",\n    },\n});\n\ntype Params = {\n    id: string;\n};\n\ntype Props = WithStyles<typeof styles>\n    & RouteComponentProps<Params, any, boolean>\n    & WithSnackbarProps;\n\ntype TabProps = {\n    id: number,\n    activeTab: number,\n    children?: ReactNode,\n};\n\nconst TabContainer: React.FunctionComponent<TabProps> = (props) => {\n    const { children, id, activeTab } = props;\n\n    return (\n        <React.Suspense fallback={<LinearProgress style={{margin: 16}} color=\"secondary\" />}>\n            {id === activeTab && children}\n        </React.Suspense>\n    );\n};\n\nconst PlanOverviewPage: React.FunctionComponent<Props> = (props: Props) => {\n    const { classes } = props;\n    const [selectedTab, selectTab] = React.useState(0);\n\n    const { plan, isDirty } = usePlan(\n        props.match.params.id,\n        props.location.state === true,\n    );\n\n    const { setName, setDescription, toggleState, toggleZone, toggleDevice } = useModifyPlan();\n\n    const zones = useZones(props.location.state === true);\n    const devices = useDevices(props.location.state === true);\n\n    useEffect(() => {\n        setIsCloneDialogOpen(false);\n        // we use 1 as tab (which is true)\n        selectTab(props.location.state === true ? 1 : 0);\n    }, [props.location]);\n\n    const [isCloneDialogOpen, setIsCloneDialogOpen] = useState(false);\n\n    const { dialog: confirmRemoveDialog, open: openConfirmRemove, isOpen: isConfirmRemoveOpen } = useConfirmDialog({\n        title: translate(\"plan.confirm.title\"),\n        content: translate(\"plan.confirm.content\"),\n        onConfirm: () => { removePlan(); },\n    });\n\n    const save = () => {\n        planAPI.updatePlan(plan as IHeatingPlan).then((_p) => {\n            props.history.push({\n                pathname: `/`,\n                state: false,\n            });\n\n            props.enqueueSnackbar(translate(\"plan.saved\", {\n                name: plan.name,\n            }));\n        });\n    };\n\n    const removePlan = () => {\n        planAPI.removePlan(plan.id).then((_p) => {\n            props.history.push({\n                pathname: `/`,\n                state: false,\n            });\n\n            props.enqueueSnackbar(translate(\"plan.removed\", {\n                name: plan.name,\n            }));\n        });\n    };\n\n    const duplicatePlan = (name: string) => {\n        const newPlan = { ...plan, enabled: false, id: uuidv1(), name } as IHeatingPlan;\n\n        planAPI.updatePlan(newPlan).then((_p) => {\n            props.history.push({\n                pathname: `/plans/${newPlan.id}`,\n                state: false,\n            });\n\n            props.enqueueSnackbar(translate(\"plan.duplicated\", {\n                name: plan.name,\n            }));\n        }).catch((r: any) => {\n            throw r;\n        });\n    };\n\n    return (\n        <Fragment>\n            {confirmRemoveDialog}\n\n            <CloneDialog\n                open={isCloneDialogOpen}\n                name={plan.name}\n                onConfirm={duplicatePlan}\n                onCancel={() => { setIsCloneDialogOpen(false); }}\n            />\n\n            <Page>\n                {{\n                    header: (\n                        <AppHeader>\n                            {{\n                                title: plan.name || translate(\"plan.unnamed\"),\n                                button: (\n                                    <MenuButton first={true} {...{ to: `/` }} component={Link as unknown as \"a\"} icon={isDirty ? <CancelIcon /> : <BackIcon />} />\n                                ),\n                                actions: (\n                                    <Fragment>\n                                        {plan.id !== \"new\" && !isDirty &&\n                                            <MenuButton onClick={() => { setIsCloneDialogOpen(true); }} icon={<CopyIcon />} />\n                                        }\n\n                                        {plan.id !== \"new\" &&\n                                            <MenuButton onClick={openConfirmRemove} icon={<RemoveIcon />} />\n                                        }\n\n                                        {isDirty &&\n                                            <Button color=\"inherit\" onClick={save}>\n                                                {translate(\"plan.save\")}\n                                            </Button>\n                                        }\n                                    </Fragment>\n                                ),\n                                subBar: (\n                                    <Tabs value={selectedTab} onChange={(_e, v) => selectTab(v)} variant=\"scrollable\" scrollButtons=\"off\" >\n                                        <Tab classes={{ root: props.classes.tab }} disableRipple={true} label={translate(\"plan.tabs.overview\")} />\n                                        <Tab classes={{ root: props.classes.tab }} disableRipple={true} label={translate(\"plan.tabs.schedule\")} />\n                                        <Tab classes={{ root: props.classes.tab }} disableRipple={true} label={translate(\"plan.tabs.zones\", { n: plan.zones.length })} />\n                                        <Tab classes={{ root: props.classes.tab }} disableRipple={true} label={translate(\"plan.tabs.devices\", { n: plan.devices.length })} />\n                                    </Tabs>\n                                ),\n                            }}\n                        </AppHeader>\n\n                    ),\n                    paddingTop: 100,\n                    body: (\n                        <ScrollLocky enabled={isCloneDialogOpen || isConfirmRemoveOpen} isolation={false}>\n                            <Fragment>\n                                <TabContainer id={0} activeTab={selectedTab}>\n                                    <SubHeader text={translate(\"plan.overview.section\")} />\n                                    <BodyText text={translate(\"plan.overview.text\")} />\n\n                                    <FormTextField\n                                        label={translate(\"plan.overview.name.label\")}\n                                        placeholder={translate(\"plan.overview.name.placeholder\")}\n\n                                        value={plan.name}\n                                        onChange={setName}\n                                    />\n\n                                    <BodyText style={{ paddingTop: 16 }} text={translate(\"plan.overview.text_enable\")} />\n                                    <FormControlLabel\n                                        control={\n                                            <Switch\n                                                onChange={toggleState}\n                                                checked={plan.enabled}\n                                            />\n                                        }\n                                        label={translate(\"plan.overview.enabled.label\")}\n                                        labelPlacement=\"start\"\n                                    />\n\n                                    <BodyText style={{ paddingTop: 16 }} text={translate(\"plan.overview.text_description\")} />\n                                    <FormTextField\n                                        label={translate(\"plan.overview.description.label\")}\n                                        placeholder={translate(\"plan.overview.description.placeholder\")}\n\n                                        multiline={true}\n                                        value={plan.description}\n                                        onChange={setDescription}\n                                    />\n                                </TabContainer>\n\n                                <TabContainer id={1} activeTab={selectedTab}>\n                                    <SubHeader text={translate(\"plan.schedules.section\")} />\n                                    <BodyText text={translate(\"plan.schedules.text\")} />\n\n                                    <div style={{ paddingTop: 16, display: \"flex\", flexDirection: \"row\" }}>\n                                        <Link style={{ textDecoration: \"none\" }} to={{ pathname: `/plans/${plan.id}/schedule`, state: plan }} replace={true}>\n                                            <Button variant=\"contained\" color=\"primary\" className={classes.button}>\n                                                {translate(\"plan.schedules.edit\")}\n                                            </Button>\n                                        </Link>\n\n                                        <Link style={{ textDecoration: \"none\" }} to={{ pathname: `/plans/${plan.id}/exceptions`, state: plan }} replace={true}>\n                                            <Button variant=\"contained\" color=\"primary\" className={classes.button}>\n                                                {translate(\"plan.schedules.exceptions\")}\n                                            </Button>\n                                        </Link>\n                                    </div>\n\n                                    {plan.schedule.length !== 0 && <SubHeader text={translate(\"plan.schedules.section_summary\")} />}\n                                    {plan.schedule.length !== 0 && <Chart plan={plan as IHeatingPlan} />}\n                                </TabContainer>\n\n                                <TabContainer id={2} activeTab={selectedTab}>\n                                    <SubHeader text={translate(\"plan.zones.section\")} />\n                                    <BodyText text={translate(\"plan.zones.text\")} />\n\n                                    {zones.length === 0\n                                        ? <BodyText style={{ paddingTop: 16 }} text={translate(\"plan.zones.empty\")} />\n                                        : <List>\n                                            {map(zones, (zone) => (\n                                                <ListItem key={zone.id} button={true} onClick={() => toggleZone(zone.id)}>\n                                                    {zone.icon != null &&\n                                                        <ListItemAvatar>\n                                                            <ZoneIcon name={zone.icon} />\n                                                        </ListItemAvatar>\n                                                    }\n                                                    <ListItemText primary={zone.name} />\n                                                    <ListItemSecondaryAction>\n                                                        <Checkbox onChange={() => toggleZone(zone.id)} checked={plan.zones.find((c) => c === zone.id) != null} />\n                                                    </ListItemSecondaryAction>\n                                                </ListItem>\n                                            ))}\n                                        </List>\n                                    }\n                                </TabContainer>\n\n                                <TabContainer id={3} activeTab={selectedTab}>\n                                    <SubHeader text={translate(\"plan.devices.section\")} />\n                                    <BodyText text={translate(\"plan.devices.text\")} />\n\n                                    {devices.length === 0\n                                        ? <BodyText style={{ paddingTop: 16 }} text={translate(\"plan.devices.empty\")} />\n                                        : <List>\n                                            {map(devices, (device) => (\n                                                <ListItem key={device.id} button={true} onClick={() => toggleDevice(device.id)}>\n                                                    {device.icon != null &&\n                                                        <ListItemAvatar>\n                                                            <Avatar className={classes.avatar} src={`${__PRODUCTION__ ? \"\" : __HOMEY_DEV_URL}${device.icon}`} />\n                                                        </ListItemAvatar>\n                                                    }\n                                                    <ListItemText primary={device.name} />\n                                                    <ListItemSecondaryAction>\n                                                        <Checkbox onChange={() => toggleDevice(device.id)} checked={plan.devices.find((c) => c === device.id) != null} />\n                                                    </ListItemSecondaryAction>\n                                                </ListItem>\n                                            ))}\n                                        </List>\n                                    }\n                                </TabContainer>\n                            </Fragment>\n                        </ScrollLocky>\n                    ),\n                }}\n            </Page>\n        </Fragment>\n    );\n};\n\n// @ts-ignore\nexport default withSnackbar(withRouter(withStyles(styles)(PlanOverviewPage)));\n"],"sourceRoot":""}