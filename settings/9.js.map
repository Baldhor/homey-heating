{"version":3,"file":"9.js","sources":["webpack:///./api/callAPI.tsx"],"sourcesContent":["declare var Homey: any;\ndeclare var PRODUCTION: boolean;\ndeclare var HOMEY_DEV_URL: string;\n\nexport default async function callAPI<T>(method: string, path: string, body: any = null): Promise<T> {\n    if (PRODUCTION) {\n        return await new Promise<T>((resolve, reject) => {\n            Homey.api(method, path, body, (err, result) =>  {\n                if (err) { reject(err); } else { resolve(result); }\n            });\n        });\n    }\n\n    const options: any = {\n        method,\n        headers: {\n            \"Content-Type\": \"application/json\",\n        },\n        cache: \"no-store\",\n    };\n\n    if (body != null) {\n        options.body = JSON.stringify(body);\n    }\n\n    // local development\n    const res = await fetch(`${HOMEY_DEV_URL}/api/app/app.mskg.homey-heating${path}`, options);\n    return await res.json() as T;\n}\n"],"mappings":"AAIA","sourceRoot":""}